"use strict";(self.webpackChunktalentan_gatsby_blog=self.webpackChunktalentan_gatsby_blog||[]).push([[609],{5203:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});n(9506);var r=n(1804),l=(n(562),n(1230)),a=(n(2194),n(5746)),s=(n(9016),n(226)),o=(n(5246),n(647)),c=n(7294),u=n(9879),i=(n(7819),n(6940));const m=({record:e})=>c.createElement("div",null,c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.sjk2oahoo1.com/zh-CN/futures/usdt/${e.symbol}`,"_blank")}},"sjk-合约"),c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.bitget.cloud/zh-CN/futures/usdt/${e.symbol}`,"_blank")}},"cn-合约"),c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.bitget.com/zh-CN/futures/usdt/${e.symbol}`,"_blank")}},"com-合约")),c.createElement("div",{style:{display:"flex",alignItems:"center"}},c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.sjk2oahoo1.com/zh-CN/spot/${e.symbol}`,"_blank")}},"sjk-现货"),c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.bitget.cloud/zh-CN/spot/${e.symbol}`,"_blank")}},"cn-现货"),c.createElement(s.Z,{type:"link",onClick:()=>{window.open(`https://www.bitget.com/zh-CN/spot/${e.symbol}`,"_blank")}},"com-现货")));var b=n(9454),d=n(381),y=n.n(d);const p=100,g=e=>{const t=[];for(let n=0;n<e.length;n+=8){const r=e.slice(n,n+8);t.push([...r.map((e=>e.symbol))])}return t},S=(e,t)=>{let n=1/0,r=-1/0;const l=e.slice(0,t);for(let a=0;a<l.length;a++){const[,,e,t]=l[a];r=Math.max(e,r),n=Math.min(t,n)}return[n,r]},h=(e,t)=>{const[n,r]=S(e,t);return r<=2*n},E=async(e,t)=>{const n="future"===t,r=n?b.ME:b.H_,l=((await r({symbol:e,granularity:n?"1D":"1day",limit:p,startTime:y().utc().subtract(p,"days").valueOf(),endTime:y().utc().valueOf()})).data||[]).reverse();if(!l||l.length<5||l.length>=p)return{symbol:e,isStable:!1};const a=h(l,5),s=h(l,p),o=((e,t)=>e.slice(0,t).reduce(((e,t)=>e+1*t[t.length-1]),0)/t)(l,5);return{symbol:e,isStable:s&&o>2e6,isOneWeekStable:a,isOneMonStable:s,avsTradingValueLast7Days:o}},k=({symbols:e,type:t})=>{const[n,r]=(0,c.useState)([]),[l,a]=(0,c.useState)(0),s=(0,c.useRef)(0),o=(0,c.useRef)([]),u=(0,c.useRef)(null);console.debug("symbols",e);return(0,c.useEffect)((()=>{(()=>{if(u.current&&clearTimeout(u.current),!e.length)return;const n=g(e);for(let e=0;e<n.length;e++)u.current=setTimeout((async()=>{const l=n[e].map((async e=>await E(e,t))),c=await Promise.all(l);c.forEach((e=>{e.isStable&&o.current.push(e)})),s.current=s.current+c.length,a(s.current),r([...o.current])}),1e3*e)})()}),[e]),{stablePairs:n,checkedSymbolCount:l}},{Text:f}=o.default;var w=({futureSymbols:e,spotSymbols:t})=>{const{stablePairs:n,checkedSymbolCount:r}=k({symbols:e,type:"future"}),{stablePairs:l,checkedSymbolCount:a}=k({symbols:t,type:"spot"}),s=(0,c.useMemo)((()=>{const e=n.map((e=>({...e,isFutureOneWeekStable:e.isOneWeekStable,isFutureOneMonStable:e.isOneMonStable})));return l.forEach((t=>{const n=e.find((e=>e.symbol===t.symbol));n?(n.isSpotOneWeekStable=t.isOneWeekStable,n.isSpotOneMonStable=t.isOneWeekStable):e.push({...t,isSpotOneWeekStable:t.isOneWeekStable,isSpotOneMonStable:t.isOneMonStable})})),e}),[l,n]),o=[{title:"交易对",dataIndex:"symbol",key:"symbol",render:e=>c.createElement(f,{strong:!0},e)},{title:"现货一周稳定",dataIndex:"isSpotOneWeekStable",key:"isSpotOneWeekStable",render:e=>c.createElement(f,{strong:!0},e?"✅":"")},{title:"现货30日稳定",dataIndex:"isSpotOneMonStable",key:"isSpotOneMonStable",render:e=>c.createElement(f,{strong:!0},e?"✅":"")},{title:"合约一周稳定",dataIndex:"isFutureOneWeekStable",key:"isFutureOneWeekStable",render:e=>c.createElement(f,{strong:!0},e?"✅":"")},{title:"合约30日稳定",dataIndex:"isFutureOneMonStable",key:"isFutureOneMonStable",render:e=>c.createElement(f,{strong:!0},e?"✅":"")},{title:"7日平均成交额",dataIndex:"avsTradingValueLast7Days",key:"avsTradingValueLast7Days",render:e=>c.createElement(f,{strong:!0},e)},{title:"操作",key:"action",render:(e,t)=>c.createElement(m,{record:t})}];return c.createElement(c.Fragment,null,c.createElement("div",null,`合约共${e.length}，已查看${r}，已筛选${n.length}`),c.createElement("div",null,`现货共${t.length}，已查看${a}，已筛选${l.length}`),c.createElement(i.Z,{columns:o,dataSource:s,pagination:{pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个交易对`},scroll:{x:800}}))},v=(n(6278),n(9747));const C=({futureSymbols:e,risePencent:t,period:n})=>{const[r,l]=(0,c.useState)([]),[a,s]=(0,c.useState)(0),o=(0,c.useRef)(0),u=(0,c.useRef)(0),i=(0,c.useRef)([]),m=(0,c.useRef)(null),d=async e=>{const r=((await(0,b.ME)({symbol:e,granularity:"1D",limit:n,startTime:y().utc().subtract(n,"days").valueOf(),endTime:y().utc().valueOf()})).data||[]).reverse();if(!r||r.length<n)return{symbol:e,isTarget:!1};const l=((e,t,n)=>{let r,l;return 1===t?[r,l]=S(e,t):(r=S(e.slice(1,t))[0],l=S(e,t-1)[1]),l>r&&(l-r)/r*100>n})(r,n,t),[a,s]=S(r,n);return{symbol:e,isTarget:l,currentPrice:r[0][4],bottomPrice:a,topPrice:s}};return(0,c.useEffect)((()=>{o.current=o.current+1,(()=>{const t=o.current,n=g(e);for(let e=0;e<n.length;e++)setTimeout((async()=>{if(t<m.current)return;const r=n[e].map((async e=>await d(e))),a=await Promise.all(r);a.forEach((e=>{e.isTarget&&i.current.push(e)})),u.current=u.current+a.length,s(u.current),l([...i.current])}),1e3*e)})()}),[e]),{burstPairs:r,checkedSymbolCount:a}},{Text:P}=o.default;var O=({futureSymbols:e})=>{const[t,n]=(0,c.useState)(3),[r,l]=(0,c.useState)(300),{burstPairs:a,checkedSymbolCount:s}=C({futureSymbols:e,risePencent:r,period:t}),o=[{title:"交易对",dataIndex:"symbol",key:"symbol",render:e=>c.createElement(P,{strong:!0},e)},{title:"当前价格",dataIndex:"currentPrice",key:"currentPrice",render:e=>c.createElement(P,{strong:!0},e)},{title:"最低价",dataIndex:"bottomPrice",key:"bottomPrice",render:e=>c.createElement(P,{strong:!0},e)},{title:"最高价",dataIndex:"topPrice",key:"topPrice",render:e=>c.createElement(P,{strong:!0},e)},{title:"操作",key:"action",render:(e,t)=>c.createElement(m,{record:t})}];return c.createElement(c.Fragment,null,c.createElement("div",null,"周期",c.createElement(v.Z,{value:t,onChange:e=>n(e)}),"天"),c.createElement("div",null,"涨幅",c.createElement(v.Z,{value:r,onChange:e=>l(e)}),"%"),c.createElement("div",null,`共${null==e?void 0:e.length}，已查看${s}，已筛选${a.length}`),c.createElement(i.Z,{columns:o,dataSource:a,pagination:{pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个交易对`},scroll:{x:800}}))};const T=({futureSymbols:e,risePencent:t,period:n})=>{const[r,l]=(0,c.useState)([]),[a,s]=(0,c.useState)(0),o=(0,c.useRef)(0),u=(0,c.useRef)(0),i=(0,c.useRef)([]),m=(0,c.useRef)(null),d=async e=>{const r=((await(0,b.ME)({symbol:e,granularity:"1D",limit:n,startTime:y().utc().subtract(n,"days").valueOf(),endTime:y().utc().valueOf()})).data||[]).reverse();if(!r||r.length<n)return{symbol:e,isTarget:!1};const l=((e,t,n)=>{const r=S(e.slice(1,t))[0],l=S(e,t-1)[1],a=l>r&&(l-r)/r*100>n;let s=!0;for(let o=0;o<t.length-1;o++){const[,,,,e]=arr[o],[,,t,,n]=arr[o+1];s=s&&n>=e}return a&&s})(r,n,t),[a,s]=S(r,n);return{symbol:e,isTarget:l,currentPrice:r[0][4],bottomPrice:a,topPrice:s}};return(0,c.useEffect)((()=>{o.current=o.current+1,(()=>{const t=o.current,n=g(e);for(let e=0;e<n.length;e++)setTimeout((async()=>{if(t<m.current)return;const r=n[e].map((async e=>await d(e))),a=await Promise.all(r);a.forEach((e=>{e.isTarget&&i.current.push(e)})),u.current=u.current+a.length,s(u.current),l([...i.current])}),1e3*e)})()}),[e]),{symbols:r,checkedSymbolCount:a}},{Text:Z}=o.default;var x=({futureSymbols:e})=>{const[t,n]=(0,c.useState)(3),[r,l]=(0,c.useState)(300),{symbols:a,checkedSymbolCount:s}=T({futureSymbols:e,risePencent:r,period:t}),o=[{title:"交易对",dataIndex:"symbol",key:"symbol",render:e=>c.createElement(Z,{strong:!0},e)},{title:"当前价格",dataIndex:"currentPrice",key:"currentPrice",render:e=>c.createElement(Z,{strong:!0},e)},{title:"最低价",dataIndex:"bottomPrice",key:"bottomPrice",render:e=>c.createElement(Z,{strong:!0},e)},{title:"最高价",dataIndex:"topPrice",key:"topPrice",render:e=>c.createElement(Z,{strong:!0},e)},{title:"操作",key:"action",render:(e,t)=>c.createElement(m,{record:t})}];return c.createElement(c.Fragment,null,c.createElement("div",null,"周期",c.createElement(v.Z,{value:t,onChange:e=>n(e)}),"天"),c.createElement("div",null,"累计涨幅",c.createElement(v.Z,{value:r,onChange:e=>l(e)}),"%"),c.createElement("div",null,`共${null==e?void 0:e.length}，已查看${s}，已筛选${a.length}`),c.createElement(i.Z,{columns:o,dataSource:a,pagination:{pageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个交易对`},scroll:{x:800}}))};const{Title:$,Text:I}=o.default;var M=()=>{const[e,t]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[i,m]=(0,c.useState)("stable"),d=e=>{localStorage.setItem("mode",e),m(e)};return c.createElement("div",null,c.createElement(r.Z,{style:{marginBottom:16}},c.createElement(l.Z,{gutter:16,align:"middle"},c.createElement(a.Z,{span:3},c.createElement(s.Z,{type:"stable"===i?"primary":"",onClick:()=>d("stable")},"stable")),c.createElement(a.Z,{span:3},c.createElement(s.Z,{type:"burst"===i?"primary":"",onClick:()=>d("burst")},"burst")),c.createElement(a.Z,{span:3},c.createElement(s.Z,{type:"stable-rise"===i?"primary":"",onClick:()=>d("stable-rise")},"stable-rise")),c.createElement(a.Z,{span:3},c.createElement(s.Z,{type:"primary",icon:c.createElement(u.Z,null),onClick:()=>{(0,b.dA)().then((e=>{t(e)})),(0,b.TV)().then((e=>{o(e)}))}},"刷新数据")))),c.createElement(r.Z,{title:"Bitget 合约交易对列表"},"stable"===i?c.createElement(w,{futureSymbols:e,spotSymbols:n}):null,"burst"===i?c.createElement(O,{futureSymbols:e,spotSymbols:n}):null,"stable-rise"===i?c.createElement(x,{futureSymbols:e,spotSymbols:n}):null))}}}]);
//# sourceMappingURL=component---src-pages-quick-calc-tabs-bitget-monitor-jsx-7e6f9e295b772c2b701d.js.map